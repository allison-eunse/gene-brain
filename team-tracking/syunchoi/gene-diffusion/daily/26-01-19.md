# 260119 작업 리포트

## 개요
Gene embedding을 조건으로 사용하는 Diffusion 모델 학습 방안에 대한 회의를 진행하고, 관련 데이터 처리 및 모델 학습을 수행했습니다.

---

## 1. Gene Embedding Condition 방식 아이디어 회의 with 정윤T

Diffusion UNet 모델에 gene embedding을 조건으로 활용하는 방안에 대한 논의.
- literature review
- 기존 모델 방식에 맞춰 cross-attention 방식
- 3D CLIP 방식 가능 여부 관련 추가 논의 예정 

---

## 2. Gene Embedding Pooling 처리 및 UKB Metadata 병합 
- 111개 gene mean pooling, max pooling 처리 
- UKB 메타데이터와 Caduceus embedding 데이터를 병합하여 학습용 통합 데이터셋을 생성 (약 4,457개 샘플)

---

## 3. Diffusion UNet Model Code Debugging & Training

### 3.1 코드 디버깅 & data curation
- UKB data 호환 문제 수정 
- Generate latent file from AE best ckpt 
- Check split stratification 

### 3.2 조건별 학습 실험
세 가지 조건에 대해 모델 학습 진행 중:
- **No Gene Embedding**: Baseline 성능 확인
- **Gene Embedding Mean Pooling**: SOD2 mean pooling 값 사용
- **Gene Embedding Max Pooling**: SOD2 max pooling 값 사용
- **All Gene Embedding Mean Pooling**: 111 gene mean pooling 값 사용

