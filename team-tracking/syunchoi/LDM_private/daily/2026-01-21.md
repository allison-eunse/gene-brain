# 260120-21 작업 리포트

## 요약
Diffusion 모델의 gene embedding을 조건 방식 논의 with 정윤T 및 코드 구현


## 1. MLP/CLIP 코드 구현 
1) gene embedding 차원 축소 및 diffusion unet의 cross-attention에 연결
2) minmax scalar 추가 구현하여 실험
3) context integration 구현 및 비교 실험 (concat vs. separate mode)

---

## 2. UKB Pipeline 문서 작성 (PIPELINE_ANALYSIS_UKB.md)
UKB 데이터를 활용한 Brain LDM 파이프라인 분석 문서 작성:

1) Stage 1: Autoencoder
3D MRI → Latent space 압축

2) Stage 2: Latent Diffusion Model (LDM)
Conditioning: demographics (sex, age) + gene embedding (SOD2, 256차원)
Gene MLP: 256 → 32 → 2 projection
Context mode 1: concat (single token)
Context mode 2: separate (double token)

---

## 3. 탐색적 임베딩 분석
- 111개 유전자 임베딩과 뇌 latent 데이터 분석
- 주요 기능 1: 유전자 임베딩 분포 분석 (통계량, 유전자별 통계)
- 주요 기능 2: 뇌 latent 분포 분석 (샘플별 통계)
- 주요 기능 3: 유전자 임베딩과 뇌 latent 간 상관관계 분석 (Pearson/Spearman)

